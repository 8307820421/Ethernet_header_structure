## Verification environment

   ╔═════╗     ╔═══════════════════════════════════════╗
   ║ cli ║     ║               ╔═════╗ ╔════╗          ║
   ╚═════╝╫─dat─╫────────►╔═══╗ ║dpram║ ║sync║ ╔═══════╗║
   ║   │rx╟     ║╔═══╗    ║ddr╟─►w   r╟─►    ╟─► core  ║║
   ║   └──╫─clk─╫╢pll╟─┬─►╚═══╝ ╚▲═══▲╝ ╚═══▲╝ ║ logic ║║
   ║PHY   ╢     ║╚═══╝ └───clk───┘   └─clk──┤  ║       ║║
   ║      ╢     ║         ╔═══╗◄─────dat────┼──║       ║║
   ║   ┌──╢◄dat─╫─────────╢ddr║             │  ║       ║║
   ║   │tx║     ║╔═══╗    ╚═══╝◄┐           │  ╚═══▲═══╝║ ╔════╗
   ║   └──╢◄clk─╫╢pll╟──────────┴────clk────┴──────┴────╫─╢xtal║
   ║      ║     ║╚═══╝                                  ║ ╚════╝
   ╚══════╝     ╚═══════════════════════════════════════╝


```         
                                                           ╔ICMP╗
                                                           ╟────╢
                                                       ┌──►║ rx ║
                                                       │   ╟────╢
                                                       │ ┌─╢ tx ║
                                                       │ │ ╚════╝
                                                       │ │ ╔═UDP═╗  ╔═DHCP═╗
                                        ╔═IPv4═════╗   ├─│►║ rx  ╟─►║  rx  ║
                 ╔═MAC══════════╗       ║          ║   │ │ ╟─────╢  ╟───▼──╢
         ╔DDR╗   ╟────┐         ║       ╟────┐     ║   │ │ ║     ║  ║ core ╟─► set local ip
from phy ╫───╫───╢ rx ├─────────╫──┬───►║ rx ├─────╫───┤ │ ╟─────╢  ╟───▼──╢
         ║   ║   ╟────┘         ║  │    ╟────┘ ┌───╢  ┌│─│─╢ tx  ║◄─╢  tx  ║
         ║   ║   ║      ┌───────╢  │    ╟────┐ │   ║◄─┘│ │ ╚═════╝  ╚══════╝
         ║   ║   ╟────┐ │  mux  ║◄─│────╢ tx │◄┤mux║◄──│─┘ ╔═TCP═══════════════╗  ╔══user logic═══
  to phy ╫───╫───╢ tx │◄┤       ║◄┐│    ╟────┘ │   ║◄┐ │   ╟────┐    ┌──core──┐║  ║
         ╚═══╝   ╟────┘ └───────╢ ││    ║      └───╢ │ └──►║ rx ├─┬─►│ rx_ctl─┼╫─►║raw tcp rx
       (optional)╚══════════════╝ ││    ╚══════════╝ │     ╟────┘ │  ├────↕───┤║  ║
                                  ││ ╔═ARP══════════╗│     ║      └─►│ engine◄┼╫─►║status & control
                                  ││ ╟────┐ ┌───────╢│     ╟────┐    ├────↕───┤║  ║
                                  │└►║ rx ├►│       ║└─────╢ tx │◄───┤ tx_ctl◄┼╫──║raw tcp tx
                                  │  ╟────┘ │       ║      ╟────┘    └────────┘║  ║
                                  │  ╟────┐ │ table ║      ╚═══════════════════╝  ╚═══════════════
                                  └──╢ tx │◄┤       ║
                                     ╟────┘ └───────║
                                     ╚══════════════╝
```

## tester_c class

The main controller of the testbench is implemented in `tester_c` class. This class performs test as defined by it's state machine by controlling the `srv` and `cli` instances and reading back data from them. It also has an interface to control and monitor `dev_c` instance which is a simulated host on the network that acts as a DHCP server. Tester class does not operate with packets and does not check packets generated by `eth_vlg` for correctness. Instead, it relies on `dev_c`. 

## dev_c class

`dev_c` class simulates a host on the network for verification purposes. This host acts as a DHCP server and supports ARP and ICMP. `dev_c` may be triggered to perform ARP and ICMP tests with specified parameters. The DHCP server's functionality is automated within the class as well as ARP

supports protocols implemented in `eth_vlg` _except TCP_. `dev_c` 
## What's being tested?



╔═════════════════════════════════╗
║             tester              ║
╚═════════════════════════════════╝
╔══▼══════╗ ╔═════════╗ ╔═════════╗ 
║ cli usr ║ ║ srv usr ║ ║ sim dev ║ 
╚═════════╝ ╚═════════╝ ╚═════════╝ 
╔════▼═══════════▼═══════════▼════╗
║             switch              ║
╚═════════════════════════════════╝



